import {Directive, ElementRef, Input, Renderer} from "@angular/core";
import {SearchResult} from "./search-result";

@Directive({selector: '[imageHref]'})
export class ImageHrefDirective {
    // @Input() set imageHref: string = "data:image/png;base64,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"
    //     ;
    // private imageHref: string = "data:image/png;base64,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"
    //     ;

    constructor(private _el: ElementRef, private _renderer: Renderer) {
        // this.applyHref(this.imageHref);
    }

    @Input() set imageHref(result: SearchResult) {
        this._renderer.setElementAttribute(this._el.nativeElement, 'xlink:href', result.image);
        this._renderer.setElementAttribute(this._el.nativeElement, 'width', '200');
        // this._renderer.setElementProperty(this._el.nativeElement, 'xlink:href', this.imageHref);

    }

}
